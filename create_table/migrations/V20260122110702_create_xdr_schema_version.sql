/*
 * Table: xdr_schema_version
 * Generated: 2026-01-22 11:07:02
 * Source: xdr22.sql
 */

-- ----------------------------
-- Sequence Definitions
-- ----------------------------
-- ----------------------------
-- Sequence structure for t_alarm_out_going_config_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_alarm_out_going_config_id_seq";
CREATE SEQUENCE "t_alarm_out_going_config_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_alarm_out_going_config_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_alarm_status_timing_task_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_alarm_status_timing_task_id_seq";
CREATE SEQUENCE "t_alarm_status_timing_task_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_alarm_status_timing_task_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_atip_config_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_atip_config_id_seq";
CREATE SEQUENCE "t_atip_config_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_atip_config_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_attack_knowledge_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_attack_knowledge_id_seq";
CREATE SEQUENCE "t_attack_knowledge_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_attack_knowledge_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_attacker_traffic_task_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_attacker_traffic_task_id_seq";
CREATE SEQUENCE "t_attacker_traffic_task_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_attacker_traffic_task_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_block_history_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_block_history_id_seq";
CREATE SEQUENCE "t_block_history_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_block_history_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_chart_template_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_chart_template_id_seq";
CREATE SEQUENCE "t_chart_template_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_chart_template_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_common_config_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_common_config_id_seq";
CREATE SEQUENCE "t_common_config_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_common_config_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_event_out_going_config_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_event_out_going_config_id_seq";
CREATE SEQUENCE "t_event_out_going_config_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_event_out_going_config_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_event_out_going_data_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_event_out_going_data_id_seq";
CREATE SEQUENCE "t_event_out_going_data_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_event_out_going_data_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_event_scenario_data_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_event_scenario_data_id_seq";
CREATE SEQUENCE "t_event_scenario_data_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_event_scenario_data_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_event_scenario_template_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_event_scenario_template_id_seq";
CREATE SEQUENCE "t_event_scenario_template_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_event_scenario_template_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_event_template_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_event_template_id_seq";
CREATE SEQUENCE "t_event_template_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_event_template_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_intelligence_sub_asset_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_intelligence_sub_asset_id_seq";
CREATE SEQUENCE "t_intelligence_sub_asset_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_intelligence_sub_asset_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_intelligence_sub_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_intelligence_sub_id_seq";
CREATE SEQUENCE "t_intelligence_sub_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_intelligence_sub_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_isolation_history_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_isolation_history_id_seq";
CREATE SEQUENCE "t_isolation_history_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_isolation_history_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_linkage_strategy_validtime_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_linkage_strategy_validtime_id_seq";
CREATE SEQUENCE "t_linkage_strategy_validtime_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_linkage_strategy_validtime_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_linked_strategy_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_linked_strategy_id_seq";
CREATE SEQUENCE "t_linked_strategy_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_linked_strategy_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_linked_strategy_template_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_linked_strategy_template_id_seq";
CREATE SEQUENCE "t_linked_strategy_template_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_linked_strategy_template_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_log_correlation_job_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_log_correlation_job_id_seq";
CREATE SEQUENCE "t_log_correlation_job_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_log_correlation_job_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_notice_history_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_notice_history_id_seq";
CREATE SEQUENCE "t_notice_history_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_notice_history_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_out_going_config_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_out_going_config_id_seq";
CREATE SEQUENCE "t_out_going_config_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_out_going_config_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_process_chain_history_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_process_chain_history_id_seq";
CREATE SEQUENCE "t_process_chain_history_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_process_chain_history_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_process_chain_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_process_chain_id_seq";
CREATE SEQUENCE "t_process_chain_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_process_chain_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_process_kill_history_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_process_kill_history_id_seq";
CREATE SEQUENCE "t_process_kill_history_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_process_kill_history_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_prohibit_domain_history_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_prohibit_domain_history_id_seq";
CREATE SEQUENCE "t_prohibit_domain_history_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_prohibit_domain_history_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_prohibit_history_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_prohibit_history_id_seq";
CREATE SEQUENCE "t_prohibit_history_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_prohibit_history_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_query_template_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_query_template_id_seq";
CREATE SEQUENCE "t_query_template_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_query_template_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_risk_incidents_analysis_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_risk_incidents_analysis_id_seq";
CREATE SEQUENCE "t_risk_incidents_analysis_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_risk_incidents_analysis_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_risk_incidents_history_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_risk_incidents_history_id_seq";
CREATE SEQUENCE "t_risk_incidents_history_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_risk_incidents_history_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_risk_incidents_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_risk_incidents_id_seq";
CREATE SEQUENCE "t_risk_incidents_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_risk_incidents_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_risk_incidents_out_going_history_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_risk_incidents_out_going_history_id_seq";
CREATE SEQUENCE "t_risk_incidents_out_going_history_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_risk_incidents_out_going_history_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_risk_incidents_out_going_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_risk_incidents_out_going_id_seq";
CREATE SEQUENCE "t_risk_incidents_out_going_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_risk_incidents_out_going_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_risk_out_going_config_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_risk_out_going_config_id_seq";
CREATE SEQUENCE "t_risk_out_going_config_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_risk_out_going_config_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_scan_history_detail_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_scan_history_detail_id_seq";
CREATE SEQUENCE "t_scan_history_detail_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_scan_history_detail_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_scan_history_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_scan_history_id_seq";
CREATE SEQUENCE "t_scan_history_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_scan_history_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_scan_job_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_scan_job_id_seq";
CREATE SEQUENCE "t_scan_job_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_scan_job_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_scene_rule_config_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_scene_rule_config_id_seq";
CREATE SEQUENCE "t_scene_rule_config_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_scene_rule_config_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_scene_rule_info_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_scene_rule_info_id_seq";
CREATE SEQUENCE "t_scene_rule_info_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_scene_rule_info_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_security_alarm_handle_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_security_alarm_handle_id_seq";
CREATE SEQUENCE "t_security_alarm_handle_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_security_alarm_handle_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_security_incidents_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_security_incidents_id_seq";
CREATE SEQUENCE "t_security_incidents_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_security_incidents_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_security_types_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_security_types_id_seq";
CREATE SEQUENCE "t_security_types_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_security_types_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_strategy_device_rel_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_strategy_device_rel_id_seq";
CREATE SEQUENCE "t_strategy_device_rel_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_strategy_device_rel_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_tag_search_list_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_tag_search_list_id_seq";
CREATE SEQUENCE "t_tag_search_list_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_tag_search_list_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_virus_kill_history_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_virus_kill_history_id_seq";
CREATE SEQUENCE "t_virus_kill_history_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_virus_kill_history_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Sequence structure for t_vul_analysis_sub_id_seq
-- ----------------------------
DROP SEQUENCE IF EXISTS "t_vul_analysis_sub_id_seq";
CREATE SEQUENCE "t_vul_analysis_sub_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
ALTER SEQUENCE "t_vul_analysis_sub_id_seq" OWNER TO "dbapp";

-- ----------------------------
-- Table structure for xdr_schema_version
-- ----------------------------
DROP TABLE IF EXISTS "xdr_schema_version";
CREATE TABLE "xdr_schema_version" (
  "installed_rank" int8 NOT NULL,
  "version" varchar(50) COLLATE "pg_catalog"."default",
  "description" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "type" varchar(20) COLLATE "pg_catalog"."default" NOT NULL,
  "script" varchar(1000) COLLATE "pg_catalog"."default" NOT NULL,
  "checksum" int8,
  "installed_by" varchar(100) COLLATE "pg_catalog"."default" NOT NULL,
  "installed_on" timestamptz(6) NOT NULL DEFAULT CURRENT_TIMESTAMP,
  "execution_time" int8 NOT NULL,
  "success" bool NOT NULL
)
;
ALTER TABLE "xdr_schema_version" OWNER TO "dbapp";

-- ----------------------------
-- Records of xdr_schema_version
-- ----------------------------
BEGIN;
COMMIT;

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_alarm_out_going_config
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_alarm_out_going_config"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_alarm_out_going_config"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_alarm_out_going_config"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_block_history
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_block_history"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_block_history"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_block_history"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_event_out_going_config
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_event_out_going_config"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_event_out_going_config"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_event_out_going_config"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_event_update_ck_alarm_queue
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_event_update_ck_alarm_queue"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_event_update_ck_alarm_queue"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.end_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_event_update_ck_alarm_queue"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_intelligence_sub_asset
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_intelligence_sub_asset"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_intelligence_sub_asset"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_intelligence_sub_asset"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_linked_strategy
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_linked_strategy"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_linked_strategy"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_linked_strategy"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_notice_history
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_notice_history"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_notice_history"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_notice_history"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_out_going_config
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_out_going_config"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_out_going_config"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_out_going_config"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_process_chain
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_process_chain"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_process_chain"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_process_chain"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_process_chain_history
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_process_chain_history"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_process_chain_history"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_process_chain_history"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_prohibit_domain_history
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_prohibit_domain_history"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_prohibit_domain_history"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_prohibit_domain_history"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_prohibit_history
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_prohibit_history"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_prohibit_history"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_prohibit_history"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_risk_incidents
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_risk_incidents"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_risk_incidents"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_risk_incidents"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_risk_incidents_analysis
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_risk_incidents_analysis"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_risk_incidents_analysis"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_risk_incidents_analysis"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_risk_incidents_history
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_risk_incidents_history"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_risk_incidents_history"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_risk_incidents_history"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_risk_out_going_config
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_risk_out_going_config"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_risk_out_going_config"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_risk_out_going_config"() OWNER TO "dbapp";

-- ----------------------------
-- Function structure for on_update_current_timestamp_t_strategy_device_rel
-- ----------------------------
DROP FUNCTION IF EXISTS "on_update_current_timestamp_t_strategy_device_rel"();
CREATE OR REPLACE FUNCTION "on_update_current_timestamp_t_strategy_device_rel"()
  RETURNS "pg_catalog"."trigger" AS $BODY$
BEGIN
   NEW.update_time = now();
   RETURN NEW;
END;
$BODY$
  LANGUAGE plpgsql VOLATILE
  COST 100;
ALTER FUNCTION "on_update_current_timestamp_t_strategy_device_rel"() OWNER TO "dbapp";

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_alarm_out_going_config_id_seq"
OWNED BY "t_alarm_out_going_config"."id";
SELECT setval('"t_alarm_out_going_config_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_alarm_status_timing_task_id_seq"
OWNED BY "t_alarm_status_timing_task"."id";
SELECT setval('"t_alarm_status_timing_task_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_atip_config_id_seq"
OWNED BY "t_atip_config"."id";
SELECT setval('"t_atip_config_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_attack_knowledge_id_seq"
OWNED BY "t_attack_knowledge"."id";
SELECT setval('"t_attack_knowledge_id_seq"', 338, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_attacker_traffic_task_id_seq"
OWNED BY "t_attacker_traffic_task"."id";
SELECT setval('"t_attacker_traffic_task_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_block_history_id_seq"
OWNED BY "t_block_history"."id";
SELECT setval('"t_block_history_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_chart_template_id_seq"
OWNED BY "t_chart_template"."id";
SELECT setval('"t_chart_template_id_seq"', 3, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_common_config_id_seq"
OWNED BY "t_common_config"."id";
SELECT setval('"t_common_config_id_seq"', 5, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_event_out_going_config_id_seq"
OWNED BY "t_event_out_going_config"."id";
SELECT setval('"t_event_out_going_config_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_event_out_going_data_id_seq"
OWNED BY "t_event_out_going_data"."id";
SELECT setval('"t_event_out_going_data_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_event_scenario_data_id_seq"
OWNED BY "t_event_scenario_data"."id";
SELECT setval('"t_event_scenario_data_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_event_scenario_template_id_seq"
OWNED BY "t_event_scenario_template"."id";
SELECT setval('"t_event_scenario_template_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_event_template_id_seq"
OWNED BY "t_event_template"."id";
SELECT setval('"t_event_template_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_intelligence_sub_asset_id_seq"
OWNED BY "t_intelligence_sub_asset"."id";
SELECT setval('"t_intelligence_sub_asset_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_intelligence_sub_id_seq"
OWNED BY "t_intelligence_sub"."id";
SELECT setval('"t_intelligence_sub_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_isolation_history_id_seq"
OWNED BY "t_isolation_history"."id";
SELECT setval('"t_isolation_history_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_linkage_strategy_validtime_id_seq"
OWNED BY "t_linkage_strategy_validtime"."id";
SELECT setval('"t_linkage_strategy_validtime_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_linked_strategy_id_seq"
OWNED BY "t_linked_strategy"."id";
SELECT setval('"t_linked_strategy_id_seq"', 15, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_linked_strategy_template_id_seq"
OWNED BY "t_linked_strategy_template"."id";
SELECT setval('"t_linked_strategy_template_id_seq"', 15, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_log_correlation_job_id_seq"
OWNED BY "t_log_correlation_job"."id";
SELECT setval('"t_log_correlation_job_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_notice_history_id_seq"
OWNED BY "t_notice_history"."id";
SELECT setval('"t_notice_history_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_out_going_config_id_seq"
OWNED BY "t_out_going_config"."id";
SELECT setval('"t_out_going_config_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_process_chain_history_id_seq"
OWNED BY "t_process_chain_history"."id";
SELECT setval('"t_process_chain_history_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_process_chain_id_seq"
OWNED BY "t_process_chain"."id";
SELECT setval('"t_process_chain_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_process_kill_history_id_seq"
OWNED BY "t_process_kill_history"."id";
SELECT setval('"t_process_kill_history_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_prohibit_domain_history_id_seq"
OWNED BY "t_prohibit_domain_history"."id";
SELECT setval('"t_prohibit_domain_history_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_prohibit_history_id_seq"
OWNED BY "t_prohibit_history"."id";
SELECT setval('"t_prohibit_history_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_query_template_id_seq"
OWNED BY "t_query_template"."id";
SELECT setval('"t_query_template_id_seq"', 10, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_risk_incidents_analysis_id_seq"
OWNED BY "t_risk_incidents_analysis"."id";
SELECT setval('"t_risk_incidents_analysis_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_risk_incidents_history_id_seq"
OWNED BY "t_risk_incidents_history"."id";
SELECT setval('"t_risk_incidents_history_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_risk_incidents_id_seq"
OWNED BY "t_risk_incidents"."id";
SELECT setval('"t_risk_incidents_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_risk_incidents_out_going_history_id_seq"
OWNED BY "t_risk_incidents_out_going_history"."id";
SELECT setval('"t_risk_incidents_out_going_history_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_risk_incidents_out_going_id_seq"
OWNED BY "t_risk_incidents_out_going"."id";
SELECT setval('"t_risk_incidents_out_going_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_risk_out_going_config_id_seq"
OWNED BY "t_risk_out_going_config"."id";
SELECT setval('"t_risk_out_going_config_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_scan_history_detail_id_seq"
OWNED BY "t_scan_history_detail"."id";
SELECT setval('"t_scan_history_detail_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_scan_history_id_seq"
OWNED BY "t_scan_history"."id";
SELECT setval('"t_scan_history_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_scan_job_id_seq"
OWNED BY "t_scan_job"."id";
SELECT setval('"t_scan_job_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_scene_rule_config_id_seq"
OWNED BY "t_scene_rule_config"."id";
SELECT setval('"t_scene_rule_config_id_seq"', 19, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_scene_rule_info_id_seq"
OWNED BY "t_scene_rule_info"."id";
SELECT setval('"t_scene_rule_info_id_seq"', 24, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_security_alarm_handle_id_seq"
OWNED BY "t_security_alarm_handle"."id";
SELECT setval('"t_security_alarm_handle_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_security_incidents_id_seq"
OWNED BY "t_security_incidents"."id";
SELECT setval('"t_security_incidents_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_security_types_id_seq"
OWNED BY "t_security_types"."id";
SELECT setval('"t_security_types_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_strategy_device_rel_id_seq"
OWNED BY "t_strategy_device_rel"."id";
SELECT setval('"t_strategy_device_rel_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_tag_search_list_id_seq"
OWNED BY "t_tag_search_list"."id";
SELECT setval('"t_tag_search_list_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_virus_kill_history_id_seq"
OWNED BY "t_virus_kill_history"."id";
SELECT setval('"t_virus_kill_history_id_seq"', 1, true);

-- ----------------------------
-- Alter sequences owned by
-- ----------------------------
ALTER SEQUENCE "t_vul_analysis_sub_id_seq"
OWNED BY "t_vul_analysis_sub"."id";
SELECT setval('"t_vul_analysis_sub_id_seq"', 1, true);

-- ----------------------------
-- Triggers structure for table t_alarm_out_going_config
-- ----------------------------
CREATE TRIGGER "on_update_current_timestamp" BEFORE UPDATE ON "t_alarm_out_going_config"
FOR EACH ROW
EXECUTE PROCEDURE "on_update_current_timestamp_t_alarm_out_going_config"();