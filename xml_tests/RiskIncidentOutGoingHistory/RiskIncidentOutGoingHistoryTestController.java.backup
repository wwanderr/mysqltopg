package com.test.controller;

import com.dbapp.extension.xdr.threatMonitor.mapper.RiskIncidentOutGoingHistoryMapper;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;
import java.util.*;

@RestController
@RequestMapping("/test/riskIncidentOutGoingHistory")
public class RiskIncidentOutGoingHistoryTestController {
    @Autowired
    private RiskIncidentOutGoingHistoryMapper mapper;

    @GetMapping("/mappingFromClueSecurityEvent")
    public String test01() { return "SUCCESS: " + mapper.mappingFromClueSecurityEvent(new HashMap<>()).size(); }
    
    @GetMapping("/mappingNormalSecurityEvent")
    public String test02() { return "SUCCESS: " + mapper.mappingNormalSecurityEvent(new HashMap<>()).size(); }
    
    @GetMapping("/backUpLastTermData")
    public String test03() { return "SUCCESS: " + mapper.backUpLastTermData(new HashMap<>()); }
    
    @GetMapping("/batchInsertOrUpdateIncident")
    public String test04() { mapper.batchInsertOrUpdateIncident(new ArrayList<>()); return "SUCCESS"; }
    
    @GetMapping("/deleteOldIncident")
    public String test05() { return "SUCCESS: " + mapper.deleteOldIncident(30); }
    
    @GetMapping("/queryListByTime")
    public String test06() { return "SUCCESS: " + mapper.queryListByTime("2026-01-01", "2026-01-26").size(); }
    
    @GetMapping("/batchUpdatePayload")
    public String test07() { mapper.batchUpdatePayload(new ArrayList<>()); return "SUCCESS"; }
    
    @GetMapping("/clearHistoryData")
    public String test08() { return "SUCCESS: " + mapper.clearHistoryData(30); }
    
    @GetMapping("/queryOutGoingList")
    public String test09() { return "SUCCESS: " + mapper.queryOutGoingList(new HashMap<>()).size(); }
}
